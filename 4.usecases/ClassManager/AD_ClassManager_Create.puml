@startuml AD_ClassManager_Create
!pragma layout smetana
title Activity Diagram: Thêm mới lớp học

start
:Truy cập chức năng "Thêm mới lớp học";

if (Có quyền truy cập?) then (Có)
  :Hiển thị màn hình\n(**SCR_ClassCreate**);
  
  :Nhập thông tin lớp học\n(tên lớp, thời gian bắt đầu/kết thúc);

  :Chọn thao tác;

  switch (Thao tác?)
    case (Lưu)
      :Kiểm tra tính hợp lệ dữ liệu;
      if (Hợp lệ?) then (Đúng)
        :Ghi nhận dữ liệu lớp học;
          if (Ghi thành công?) then (Có)
            :Thông báo "Thêm mới lớp học thành công";
            :Chuyển hướng về danh sách\n(**SCR_ClassManager**);
            stop
          else (Không)
            :Thông báo lỗi hệ thống;
            :Ở lại màn hình màn hình\n(**SCR_ClassCreate**);
          endif
      else (Sai)
        :Thông báo lỗi "Nhập đầy đủ trường thông tin bắt buộc"";
        :Ở lại màn hình\n(**SCR_ClassCreate**);
      endif

    case (Đóng)
      :Xác nhận hủy thao tác?;
      if (Đồng ý?) then (Có)
        :Hủy thao tác;
        :Chuyển hướng về danh sách\n(**SCR_ClassManager**);
        stop
      else (Không)
        :Ở lại màn hình\n(**SCR_ClassCreate**);
      endif
  endswitch
else (Không)
  :Thông báo không có quyền truy cập;
  :Chuyển hướng đến trang chính;
  stop
endif

stop
@enduml
